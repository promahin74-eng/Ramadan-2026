<!DOCTYPE html>
<html lang="bn">
<head>
    <link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#041c1c">
<link rel="apple-touch-icon" href="icon-192.jpg">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ramadan Kareem 2026 - Mahin</title>
    <style>
        :root {
            --bg-color: #041c1c;
            --gradient: linear-gradient(135deg, #0c3b3b 0%, #072a2a 60%, #041c1c 100%);
            --gold: #facc15;
            --text-light: #e5e7eb;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--bg-color);
            color: white;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            min-height: 100vh;
        }

        .page {
            display: none;
            width: 100%;
            max-width: 420px;
            padding: 20px;
            box-sizing: border-box;
            flex-direction: column;
            align-items: center;
        }

        .active-page { display: flex; }

        .container {
            background: var(--gradient);
            border: 2px solid var(--gold);
            border-radius: 20px;
            padding: 25px;
            width: 100%;
            box-sizing: border-box;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            margin-top: 10px;
            position: relative;
        }

        .header { font-size: 28px; margin-bottom: 5px; }
        .title { color: var(--gold); font-weight: bold; font-size: 22px; margin-bottom: 5px; }
        .stars { color: #fde68a; font-size: 12px; margin-bottom: 15px; }

        .countdown-box {
            background: rgba(0,0,0,0.3);
            padding: 15px;
            border-radius: 15px;
            margin-bottom: 15px;
            border: 1px solid rgba(250, 204, 21, 0.2);
            transition: 0.3s;
        }
        @keyframes blink {
            0% { border-color: #ff4d4d; box-shadow: 0 0 5px #ff4d4d; }
            50% { border-color: transparent; box-shadow: none; color: #ff4d4d; }
            100% { border-color: #ff4d4d; box-shadow: 0 0 5px #ff4d4d; }
        }
        .warning-blink { animation: blink 0.8s infinite; }
        #timer { font-size: 32px; font-weight: bold; margin-top: 5px; letter-spacing: 2px; font-family: monospace; }

        .action-buttons { display: flex; gap: 10px; margin-bottom: 15px; width: 100%; }
        .btn {
            flex: 1; padding: 12px; border-radius: 12px; border: 1px solid var(--gold);
            background: rgba(250, 204, 21, 0.1); color: var(--gold);
            font-weight: bold; cursor: pointer; text-align: center; font-size: 16px;
        }
        .btn:active { background: var(--gold); color: #000; }

        .prayer-container {
            display: flex; justify-content: space-between; margin-bottom: 20px;
            background: rgba(0,0,0,0.2); padding: 10px; border-radius: 12px; width: 100%; box-sizing: border-box;
        }
        .prayer-item { flex: 1; font-size: 10px; color: #9ca3af; opacity: 0.5; }
        .prayer-item.active { opacity: 1; color: var(--gold); transform: scale(1.05); }
        .prayer-icon { font-size: 18px; display: block; }

        /* Calendar Glow Styles */
        .calendar-grid { display: grid; grid-template-columns: repeat(6, 1fr); gap: 8px; margin-bottom: 20px; width: 100%; }
        .day-box { 
            height: 35px; display: flex; align-items: center; justify-content: center; 
            border-radius: 8px; font-size: 14px; background: rgba(255,255,255,0.05); 
            border: 1px solid rgba(250, 204, 21, 0.2);
            box-shadow: 0 0 8px rgba(250, 204, 21, 0.1);
            transition: all 0.3s ease;
        }
        .current-day { 
            background: var(--gold) !important; 
            color: #000; font-weight: bold; 
            box-shadow: 0 0 15px var(--gold), 0 0 30px rgba(250, 204, 21, 0.5) !important; 
            transform: scale(1.1);
            border: none;
            z-index: 10;
        }
        .past-day { 
            color: #6b7280; 
            opacity: 0.3; 
            box-shadow: none; 
            border: 1px solid rgba(255,255,255,0.05); 
        }

        .times { font-size: 16px; margin: 5px 0; background: rgba(255,255,255,0.05); padding: 8px; border-radius: 5px; width: 100%; box-sizing: border-box; }

        .sub-header { width: 100%; display: flex; align-items: center; margin-bottom: 20px; }
        .back-icon { font-size: 24px; cursor: pointer; margin-right: 15px; color: var(--gold); }
        .dua-list { width: 100%; display: flex; flex-direction: column; gap: 10px; }
        .dua-card { background: rgba(255,255,255,0.05); padding: 15px; border-radius: 12px; border: 1px solid rgba(250, 204, 21, 0.2); cursor: pointer; text-align: left; }
        
        .dua-detail-box { width: 100%; background: rgba(0,0,0,0.3); padding: 20px; border-radius: 15px; border: 1px solid var(--gold); box-sizing: border-box; }
        .arabic { font-size: 24px; color: #fde68a; margin-bottom: 15px; line-height: 1.8; direction: rtl; text-align: right; }
        .pronunciation { color: var(--gold); margin-bottom: 10px; font-size: 15px; }
        .meaning { font-size: 14px; color: #d1d5db; line-height: 1.5; }

        #tasbih-page { touch-action: manipulation; user-select: none; }
        .tasbih-display {
            width: 220px; height: 220px; border-radius: 50%; border: 8px solid var(--gold);
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            font-size: 50px; font-weight: bold; margin: 40px 0; box-shadow: 0 0 20px rgba(250, 204, 21, 0.3);
            cursor: pointer; -webkit-tap-highlight-color: transparent;
        }
        .reset-btn { background: #ff4d4d; color: white; border: none; padding: 12px 40px; border-radius: 25px; font-weight: bold; cursor: pointer; }
        
        .designer-text { font-size: 11px; color: rgba(255, 255, 255, 0.4); margin-top: 25px; letter-spacing: 1px; }
    </style>
</head>
<body>

<audio id="azan-audio" src="https://www.islamcan.com/audio/adhan/azan1.mp3"></audio>

<div id="home-page" class="page active-page">
    <div class="container">
        <div class="header">üåô‚ú®üìø</div>
        <div class="title">RAMADAN KAREEM 2026</div>
        <div class="stars">‚ú¶  ‚úß   ‚ú¶   ‚úß  ‚ú¶</div>

        <div id="timer-container" class="countdown-box">
            <div id="status-text" style="font-size: 14px; opacity: 0.9;">‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</div>
            <div id="timer">00:00:00</div>
        </div>

        <div class="action-buttons">
            <div class="btn" onclick="showPage('dua-list-page')">ü§≤ ‡¶¶‡ßã‡ßü‡¶æ</div>
            <div class="btn" onclick="showPage('tasbih-page')">üìø ‡¶§‡¶∏‡¶¨‡¶ø‡¶π</div>
        </div>

        <div class="prayer-container">
            <div class="prayer-item" id="p-fajar"><span class="prayer-icon">üåÖ</span> ‡¶´‡¶ú‡¶∞<br><span id="t-fajar">--:--</span></div>
            <div class="prayer-item" id="p-johor"><span class="prayer-icon">‚òÄÔ∏è</span> ‡¶Ø‡ßã‡¶π‡¶∞<br><span id="t-johor">--:--</span></div>
            <div class="prayer-item" id="p-asr"><span class="prayer-icon">‚õÖ</span> ‡¶Ü‡¶∏‡¶∞<br><span id="t-asr">--:--</span></div>
            <div class="prayer-item" id="p-maghrib"><span class="prayer-icon">üåá</span> ‡¶Æ‡¶æ‡¶ó‡¶∞‡¶ø‡¶¨<br><span id="t-maghrib">--:--</span></div>
            <div class="prayer-item" id="p-isha"><span class="prayer-icon">üåô</span> ‡¶è‡¶∂‡¶æ<br><span id="t-isha">--:--</span></div>
        </div>

        <div class="phase-text" id="phase" style="color:var(--gold); font-weight:bold; margin-bottom:10px;"></div>
        <div class="calendar-grid" id="calendar"></div>

        <div class="times" id="sehri-time"></div>
        <div class="times" id="iftar-time"></div>
        <div id="jummah-msg" style="color: #ffd700; font-weight: bold; margin-top: 10px; display: none;">‚ú® JUMMAH MUBARAK ‚ú®</div>
        
        <div id="current-date" style="font-size: 13px; font-weight: bold; margin-top: 15px; color: #d1d5db;"></div>
        
        <div style="font-size: 11px; color: #9ca3af; margin-top: 5px;">üìç Dhaka ‚Ä¢ Kishoreganj ‚Ä¢ Bhairab</div>

        <div class="designer-text">Designed by Mahin</div>
    </div>
</div>

<div id="dua-list-page" class="page">
    <div class="sub-header">
        <span class="back-icon" onclick="showPage('home-page')">‚Üê</span>
        <h2>‡¶∞‡¶Æ‡¶ú‡¶æ‡¶®‡ßá‡¶∞ ‡¶¶‡ßã‡ßü‡¶æ</h2>
    </div>
    <div class="dua-list" id="dua-list-container"></div>
</div>

<div id="dua-detail-page" class="page">
    <div class="sub-header">
        <span class="back-icon" onclick="showPage('dua-list-page')">‚Üê</span>
        <h3 id="detail-title">‡¶¶‡ßã‡ßü‡¶æ</h3>
    </div>
    <div class="dua-detail-box">
        <div id="det-arabic" class="arabic"></div>
        <div id="det-pron" class="pronunciation"></div>
        <div id="det-meaning" class="meaning"></div>
    </div>
</div>

<div id="tasbih-page" class="page">
    <div class="sub-header">
        <span class="back-icon" onclick="showPage('home-page')">‚Üê</span>
        <h2>‡¶°‡¶ø‡¶ú‡¶ø‡¶ü‡¶æ‡¶≤ ‡¶§‡¶∏‡¶¨‡¶ø‡¶π</h2>
    </div>
    <div class="tasbih-display" onclick="tasbihClick()">
        <span id="tasbih-count">0</span>
        <span style="font-size: 14px; font-weight: normal; opacity: 0.6;">TAP</span>
    </div>
    <button class="reset-btn" onclick="resetTasbih()">RESET</button>
</div>

<script>
    // PWA Service Worker Registration
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
            navigator.serviceWorker.register('sw.js')
                .then(reg => console.log('Service Worker Registered!'))
                .catch(err => console.log('Service Worker Registration Failed!', err));
        });
    }

    const duaData = [
        { title: "‡¶∞‡ßã‡¶ú‡¶æ‡¶∞ ‡¶®‡¶ø‡ßü‡¶§ (‡¶∏‡¶æ‡¶π‡¶∞‡¶ø‡¶∞ ‡¶™‡¶∞)", arabic: "ŸÜŸéŸàŸéŸäŸíÿ™Ÿè ÿßŸéŸÜŸí ÿßŸéÿµŸèŸàŸíŸÖŸé ÿ∫ŸéÿØŸãÿß ŸÖŸêŸëŸÜŸí ÿ¥ŸéŸáŸíÿ±Ÿê ÿ±ŸéŸÖŸéÿ∂ŸéÿßŸÜŸé ÿßŸÑŸíŸÖŸèÿ®Ÿéÿßÿ±ŸéŸÉŸê ŸÅŸéÿ±Ÿíÿ∂Ÿãÿß ŸÑŸéŸëŸÉŸé ŸäŸéÿß ÿßŸÑŸÑŸáŸè ŸÅŸéÿ™ŸéŸÇŸéÿ®ŸéŸëŸÑŸí ŸÖŸêŸÜŸêŸëŸäŸí ÿßŸêŸÜŸéŸëŸÉŸé ÿßŸéŸÜŸíÿ™Ÿé ÿßŸÑÿ≥ŸéŸëŸÖŸêŸäŸíÿπŸè ÿßŸÑŸíÿπŸéŸÑŸêŸäŸíŸÖŸè", pron: "‡¶â‡¶ö‡ßç‡¶ö‡¶æ‡¶∞‡¶£: ‡¶®‡¶æ‡¶ì‡ßü‡¶æ‡¶á‡¶§‡ßÅ ‡¶Ü‡¶® ‡¶Ü‡¶∏‡ßÇ‡¶Æ‡¶æ ‡¶ó‡¶æ‡¶¶‡¶æ‡¶Æ ‡¶Æ‡¶ø‡¶® ‡¶∂‡¶æ‡¶π‡¶∞‡¶ø ‡¶∞‡¶æ‡¶Æ‡¶æ‡¶¶‡ßç‡¶¨‡¶æ‡¶®‡¶æ‡¶≤ ‡¶Æ‡ßÅ‡¶¨‡¶æ‡¶∞‡¶æ‡¶ï‡¶ø ‡¶´‡¶æ‡¶∞‡¶¶‡ßç‡¶¨‡¶æ‡¶≤‡ßç‡¶≤‡¶æ‡¶ï‡¶æ ‡¶á‡ßü‡¶æ ‡¶Ü‡¶≤‡ßç‡¶≤‡¶æ‡¶π‡ßÅ ‡¶´‡¶æ‡¶§‡¶æ‡¶ï‡¶æ‡¶¨‡ßç‡¶¨‡¶æ‡¶≤ ‡¶Æ‡¶ø‡¶®‡ßç‡¶®‡ßÄ ‡¶á‡¶®‡ßç‡¶®‡¶æ‡¶ï‡¶æ ‡¶Ü‡¶®‡ßç‡¶§‡¶æ‡¶∏ ‡¶∏‡¶æ‡¶Æ‡ßÄ‡¶â‡¶≤ ‡¶Ü‡¶≤‡ßÄ‡¶Æ‡•§", meaning: "‡¶Ö‡¶∞‡ßç‡¶•: ‡¶π‡ßá ‡¶Ü‡¶≤‡ßç‡¶≤‡¶æ‡¶π! ‡¶Ü‡¶ó‡¶æ‡¶Æ‡ßÄ‡¶ï‡¶æ‡¶≤ ‡¶™‡¶¨‡¶ø‡¶§‡ßç‡¶∞ ‡¶∞‡¶Æ‡¶ú‡¶æ‡¶® ‡¶Æ‡¶æ‡¶∏‡ßá ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶™‡¶ï‡ßç‡¶∑ ‡¶•‡ßá‡¶ï‡ßá ‡¶®‡¶ø‡¶∞‡ßç‡¶ß‡¶æ‡¶∞‡¶ø‡¶§ ‡¶´‡¶∞‡¶ú ‡¶∞‡ßã‡¶ú‡¶æ ‡¶∞‡¶æ‡¶ñ‡¶æ‡¶∞ ‡¶®‡¶ø‡ßü‡¶§ ‡¶ï‡¶∞‡¶≤‡¶æ‡¶Æ‡•§ ‡¶Ö‡¶§‡¶è‡¶¨ ‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶™‡¶ï‡ßç‡¶∑ ‡¶•‡ßá‡¶ï‡ßá ‡¶§‡¶æ ‡¶ï‡¶¨‡ßÅ‡¶≤ ‡¶ï‡¶∞‡ßã‡•§" },
        { title: "‡¶á‡¶´‡¶§‡¶æ‡¶∞‡ßá‡¶∞ ‡¶¶‡ßã‡ßü‡¶æ", arabic: "ÿßŸéŸÑŸÑŸéŸëŸáŸèŸÖŸéŸë ŸÑŸéŸÉŸé ÿµŸèŸÖŸíÿ™Ÿè ŸàŸéÿπŸéŸÑŸéŸâ ÿ±Ÿêÿ≤ŸíŸÇŸêŸÉŸé ÿßŸéŸÅŸíÿ∑Ÿéÿ±Ÿíÿ™Ÿè", pron: "‡¶â‡¶ö‡ßç‡¶ö‡¶æ‡¶∞‡¶£: ‡¶Ü‡¶≤‡ßç‡¶≤‡¶æ‡¶π‡ßÅ‡¶Æ‡ßç‡¶Æ‡¶æ ‡¶≤‡¶æ‡¶ï‡¶æ ‡¶∏‡ßÅ‡¶Æ‡¶§‡ßÅ ‡¶ì‡ßü‡¶æ ‡¶Ü‡¶≤‡¶æ ‡¶∞‡¶ø‡¶Ø‡¶ï‡ßç‡¶¨‡¶ø‡¶ï‡¶æ ‡¶Ü‡¶´‡¶§‡¶æ‡¶∞‡¶§‡ßÅ‡•§", meaning: "‡¶Ö‡¶∞‡ßç‡¶•: ‡¶π‡ßá ‡¶Ü‡¶≤‡ßç‡¶≤‡¶æ‡¶π! ‡¶Ü‡¶Æ‡¶ø ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞‡¶á ‡¶ú‡¶®‡ßç‡¶Ø ‡¶∞‡ßã‡¶ú‡¶æ ‡¶∞‡ßá‡¶ñ‡ßá‡¶õ‡¶ø ‡¶è‡¶¨‡¶Ç ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞‡¶á ‡¶¶‡ßá‡¶ì‡ßü‡¶æ ‡¶∞‡¶ø‡¶ú‡¶ø‡¶ï ‡¶¶‡¶ø‡ßü‡ßá ‡¶á‡¶´‡¶§‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶õ‡¶ø‡•§" },
        { title: "‡¶á‡¶´‡¶§‡¶æ‡¶∞‡ßá‡¶∞ ‡¶™‡¶∞‡ßá‡¶∞ ‡¶∏‡ßÅ‡¶®‡ßç‡¶®‡¶æ‡¶π ‡¶¶‡ßã‡ßü‡¶æ", arabic: "ÿ∞ŸéŸáŸéÿ®Ÿé ÿßŸÑÿ∏ŸéŸëŸÖŸéÿ£Ÿè ŸàŸéÿßÿ®Ÿíÿ™ŸéŸÑŸéŸëÿ™Ÿê ÿßŸÑŸíÿπŸèÿ±ŸèŸàŸíŸÇŸè ŸàŸéÿ´Ÿéÿ®Ÿéÿ™Ÿé ÿßŸÑŸíÿ£Ÿéÿ¨Ÿíÿ±Ÿè ÿ•ŸêŸÜŸí ÿ¥Ÿéÿßÿ°Ÿé ÿßŸÑŸÑŸáŸè", pron: "‡¶â‡¶ö‡ßç‡¶ö‡¶æ‡¶∞‡¶£: ‡¶Ø‡¶æ‡¶π‡¶æ‡¶¨‡¶æ‡¶Ø ‡¶Ø‡¶æ‡¶Æ‡¶æ‡¶â ‡¶ì‡ßü‡¶æ‡¶¨‡¶§‡¶æ‡¶≤‡ßç‡¶≤‡¶æ‡¶§‡¶ø‡¶≤ ‡¶â‡¶∞‡ßÇ‡¶ï‡ßç‡¶¨‡ßÅ ‡¶ì‡ßü‡¶æ ‡¶∏‡¶æ‡¶¨‡¶æ‡¶§‡¶æ‡¶≤ ‡¶Ü‡¶ú‡¶∞‡ßÅ ‡¶á‡¶®‡¶∂‡¶æ‡¶Ü‡¶≤‡ßç‡¶≤‡¶æ‡¶π‡•§", meaning: "‡¶Ö‡¶∞‡ßç‡¶•: ‡¶™‡¶ø‡¶™‡¶æ‡¶∏‡¶æ ‡¶¶‡ßÇ‡¶∞ ‡¶π‡¶≤‡ßã, ‡¶∂‡¶ø‡¶∞‡¶æ-‡¶â‡¶™‡¶∂‡¶ø‡¶∞‡¶æ ‡¶∏‡¶ø‡¶ï‡ßç‡¶§ ‡¶π‡¶≤‡ßã ‡¶è‡¶¨‡¶Ç ‡¶á‡¶®‡¶∂‡¶æ‡¶Ü‡¶≤‡ßç‡¶≤‡¶æ‡¶π ‡¶™‡ßÅ‡¶∞‡¶∏‡ßç‡¶ï‡¶æ‡¶∞ ‡¶¨‡¶æ ‡¶∏‡¶ì‡ßü‡¶æ‡¶¨‡¶ì ‡¶®‡¶ø‡¶∞‡ßç‡¶ß‡¶æ‡¶∞‡¶ø‡¶§ ‡¶π‡¶≤‡ßã‡•§" },
        { title: "‡¶≤‡¶æ‡¶á‡¶≤‡¶æ‡¶§‡ßÅ‡¶≤ ‡¶ï‡¶¶‡¶∞‡ßá‡¶∞ ‡¶¶‡ßã‡ßü‡¶æ", arabic: "ÿßŸÑŸÑŸéŸëŸáŸèŸÖŸéŸë ÿ•ŸêŸÜŸéŸëŸÉŸé ÿπŸéŸÅŸèŸàŸåŸë ÿ™Ÿèÿ≠Ÿêÿ®ŸèŸë ÿßŸÑŸíÿπŸéŸÅŸíŸàŸé ŸÅŸéÿßÿπŸíŸÅŸè ÿπŸéŸÜŸêŸëŸä", pron: "‡¶â‡¶ö‡ßç‡¶ö‡¶æ‡¶∞‡¶£: ‡¶Ü‡¶≤‡ßç‡¶≤‡¶æ‡¶π‡ßÅ‡¶Æ‡ßç‡¶Æ‡¶æ ‡¶á‡¶®‡ßç‡¶®‡¶æ‡¶ï‡¶æ ‡¶Ü‡¶´‡ßÅ‡¶â‡¶â‡¶® ‡¶§‡ßÅ‡¶π‡¶ø‡¶¨‡ßç‡¶¨‡ßÅ‡¶≤ ‡¶Ü‡¶´‡¶ì‡ßü‡¶æ ‡¶´‡¶æ‡¶´‡ßÅ ‡¶Ü‡¶®‡ßç‡¶®‡ßÄ‡•§", meaning: "‡¶Ö‡¶∞‡ßç‡¶•: ‡¶π‡ßá ‡¶Ü‡¶≤‡ßç‡¶≤‡¶æ‡¶π! ‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡ßç‡¶∑‡¶Æ‡¶æ‡¶∂‡ßÄ‡¶≤ ‡¶è‡¶¨‡¶Ç ‡¶ï‡ßç‡¶∑‡¶Æ‡¶æ ‡¶ï‡¶∞‡¶§‡ßá ‡¶≠‡¶æ‡¶≤‡ßã‡¶¨‡¶æ‡¶∏‡ßá‡¶®; ‡¶§‡¶æ‡¶á ‡¶Ü‡¶Æ‡¶æ‡¶ï‡ßá ‡¶ï‡ßç‡¶∑‡¶Æ‡¶æ ‡¶ï‡¶∞‡ßá ‡¶¶‡¶ø‡¶®‡•§" },
        { title: "‡¶§‡¶æ‡¶∞‡¶æ‡¶¨‡¶ø‡¶π ‡¶®‡¶æ‡¶Æ‡¶æ‡¶ú‡ßá‡¶∞ ‡¶¶‡ßã‡ßü‡¶æ", arabic: "ÿ≥Ÿèÿ®Ÿíÿ≠ÿßŸÜŸé ÿ∞ŸêŸä ÿßŸÑŸíŸÖŸèŸÑŸíŸÉŸê ŸàŸéÿßŸÑŸíŸÖŸéŸÑŸéŸÉŸèŸàÿ™Ÿê ÿ≥Ÿèÿ®Ÿíÿ≠ÿßŸÜŸé ÿ∞ŸêŸä ÿßŸÑŸíÿπŸêÿ≤ŸéŸëÿ©Ÿê ŸàŸéÿßŸÑŸíÿπŸéÿ∏ŸéŸÖŸéÿ©Ÿê ŸàŸéÿßŸÑŸíŸáŸéŸäŸíÿ®Ÿéÿ©Ÿê ŸàŸéÿßŸÑŸíŸÇŸèÿØŸíÿ±Ÿéÿ©Ÿê ŸàŸéÿßŸÑŸíŸÉŸêÿ®Ÿíÿ±ŸêŸäŸéÿßÿ°Ÿê ŸàŸéÿßŸÑŸíÿ¨Ÿéÿ®Ÿéÿ±ŸèŸàÿ™Ÿê ÿ≥Ÿèÿ®Ÿíÿ≠ÿßŸÜŸé ÿßŸÑŸíŸÖŸéŸÑŸêŸÉŸê ÿßŸÑŸíÿ≠ŸéŸäŸêŸë ÿßŸÑŸéŸëÿ∞ŸêŸä ŸÑŸéÿß ŸäŸéŸÜŸéÿßŸÖŸè ŸàŸéŸÑŸéÿß ŸäŸéŸÖŸèŸàÿ™Ÿè ÿ≥Ÿèÿ®ŸèŸëŸàÿ≠Ÿå ŸÇŸèÿØŸèŸëŸàÿ≥Ÿå ÿ±Ÿéÿ®ŸèŸëŸÜŸéÿß ŸàŸéÿ±Ÿéÿ®ŸèŸë ÿßŸÑŸíŸÖŸéŸÑŸéÿßÿ¶ŸêŸÉŸéÿ©Ÿê ŸàŸéÿßŸÑÿ±ŸèŸëŸàÿ≠Ÿê", pron: "‡¶â‡¶ö‡ßç‡¶ö‡¶æ‡¶∞‡¶£: ‡¶∏‡ßÅ‡¶¨‡¶π‡¶æ‡¶®‡¶æ ‡¶Ø‡¶ø‡¶≤ ‡¶Æ‡ßÅ‡¶≤‡¶ï‡¶ø ‡¶ì‡ßü‡¶æ‡¶≤ ‡¶Æ‡¶æ‡¶≤‡¶æ‡¶ï‡ßÇ‡¶§‡¶ø...", meaning: "‡¶Ö‡¶∞‡ßç‡¶•: ‡¶Ü‡¶≤‡ßç‡¶≤‡¶æ‡¶π ‡¶™‡¶¨‡¶ø‡¶§‡ßç‡¶∞, ‡¶Ø‡¶ø‡¶®‡¶ø ‡¶è‡¶á ‡¶¶‡ßÉ‡¶∂‡ßç‡¶Ø‡¶Æ‡¶æ‡¶® ‡¶ì ‡¶Ö‡¶¶‡ßÉ‡¶∂‡ßç‡¶Ø ‡¶ú‡¶ó‡¶§‡ßá‡¶∞ ‡¶Æ‡¶æ‡¶≤‡¶ø‡¶ï ‡¶è‡¶¨‡¶Ç ‡¶ö‡¶ø‡¶∞‡¶û‡ßç‡¶ú‡ßÄ‡¶¨‡•§" },
        { title: "‡¶ï‡¶æ‡¶∞‡ßã ‡¶¨‡¶æ‡ßú‡¶ø‡¶§‡ßá ‡¶á‡¶´‡¶§‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶≤‡ßá ‡¶¶‡ßã‡ßü‡¶æ", arabic: "ÿ£ŸéŸÅŸíÿ∑Ÿéÿ±Ÿé ÿπŸêŸÜŸíÿØŸéŸÉŸèŸÖŸè ÿßŸÑÿµŸéŸëÿßÿ¶ŸêŸÖŸèŸàŸÜŸé ÿå ŸàŸéÿ£ŸéŸÉŸéŸÑŸé ÿ∑ŸéÿπŸéÿßŸÖŸéŸÉŸèŸÖŸè ÿßŸÑÿ£Ÿéÿ®Ÿíÿ±Ÿéÿßÿ±Ÿè ÿå ŸàŸéÿµŸéŸÑŸéŸëÿ™Ÿí ÿπŸéŸÑŸéŸäŸíŸÉŸèŸÖŸè ÿßŸÑŸíŸÖŸéŸÑÿßÿ¶ŸêŸÉŸéÿ©Ÿè", pron: "‡¶â‡¶ö‡ßç‡¶ö‡¶æ‡¶∞‡¶£: ‡¶Ü‡¶´‡¶§‡¶æ‡¶∞‡¶æ ‡¶á‡¶®‡¶¶‡¶æ‡¶ï‡ßÅ‡¶Æ‡ßÅ‡¶∏ ‡¶∏‡¶æ‡ßü‡¶ø‡¶Æ‡ßÅ‡¶®‡¶æ...", meaning: "‡¶Ö‡¶∞‡ßç‡¶•: ‡¶§‡ßã‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶∞‡ßã‡¶ú‡¶æ‡¶¶‡¶æ‡¶∞‡¶∞‡¶æ ‡¶á‡¶´‡¶§‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶ï ‡¶è‡¶¨‡¶Ç ‡¶´‡ßá‡¶∞‡ßá‡¶∂‡¶§‡¶æ‡¶∞‡¶æ ‡¶§‡ßã‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶∞‡¶π‡¶Æ‡¶§‡ßá‡¶∞ ‡¶¶‡ßã‡ßü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶ï‡•§" },
        { title: "‡¶á‡¶´‡¶§‡¶æ‡¶∞‡ßá‡¶∞ ‡¶∏‡¶Æ‡ßü ‡¶á‡¶∏‡ßç‡¶§‡¶ø‡¶ó‡¶´‡¶æ‡¶∞", arabic: "ÿ£Ÿéÿ≥Ÿíÿ™Ÿéÿ∫ŸíŸÅŸêÿ±Ÿè ÿßŸÑŸÑŸáŸé ÿßŸÑŸéŸëÿ∞ŸêŸä ŸÑÿßŸé ÿ•ŸêŸÑŸéŸáŸé ÿ•ŸêŸÑÿßŸéŸë ŸáŸèŸàŸé ÿßŸÑŸíÿ≠ŸéŸäŸèŸë ÿßŸÑŸíŸÇŸéŸäŸèŸëŸàŸÖŸè ŸàŸéÿ£Ÿéÿ™ŸèŸàÿ®Ÿè ÿ•ŸêŸÑŸéŸäŸíŸáŸê", pron: "‡¶â‡¶ö‡ßç‡¶ö‡¶æ‡¶∞‡¶£: ‡¶Ü‡¶∏‡ßç‡¶§‡¶æ‡¶ó‡¶´‡¶ø‡¶∞‡ßÅ‡¶≤‡ßç‡¶≤‡¶æ‡¶π‡¶æ‡¶≤‡ßç‡¶≤‡¶æ‡¶Ø‡ßÄ ‡¶≤‡¶æ ‡¶á‡¶≤‡¶æ‡¶π‡¶æ ‡¶á‡¶≤‡ßç‡¶≤‡¶æ ‡¶π‡ßÅ‡ßü‡¶æ‡¶≤ ‡¶π‡¶æ‡¶á‡ßü‡ßç‡¶Ø‡ßÅ‡¶≤ ‡¶ï‡¶æ‡¶á‡ßü‡ßç‡¶Ø‡ßÅ‡¶Æ‡ßÅ...", meaning: "‡¶Ö‡¶∞‡ßç‡¶•: ‡¶Ü‡¶Æ‡¶ø ‡¶Ü‡¶≤‡ßç‡¶≤‡¶æ‡¶π‡¶∞ ‡¶ï‡¶æ‡¶õ‡ßá ‡¶ï‡ßç‡¶∑‡¶Æ‡¶æ ‡¶ö‡¶æ‡¶ö‡ßç‡¶õ‡¶ø, ‡¶Ø‡¶ø‡¶®‡¶ø ‡¶õ‡¶æ‡ßú‡¶æ ‡¶ï‡ßã‡¶®‡ßã ‡¶á‡¶≤‡¶æ‡¶π ‡¶®‡ßá‡¶á‡•§" },
        { title: "‡¶§‡¶æ‡¶∞‡¶æ‡¶¨‡¶ø‡¶π ‡¶®‡¶æ‡¶Æ‡¶æ‡¶ú‡ßá‡¶∞ ‡¶Æ‡ßã‡¶®‡¶æ‡¶ú‡¶æ‡¶§", arabic: "ÿßŸÑŸÑŸáŸÖ ÿ•ŸÜÿß ŸÜÿ≥ÿ£ŸÑŸÉ ÿßŸÑÿ¨ŸÜÿ© ŸàŸÜÿπŸàÿ∞ ÿ®ŸÉ ŸÖŸÜ ÿßŸÑŸÜÿßÿ±", pron: "‡¶â‡¶ö‡ßç‡¶ö‡¶æ‡¶∞‡¶£: ‡¶Ü‡¶≤‡ßç‡¶≤‡¶æ‡¶π‡ßÅ‡¶Æ‡ßç‡¶Æ‡¶æ ‡¶á‡¶®‡ßç‡¶®‡¶æ ‡¶®‡¶æ‡¶∏‡¶Ü‡¶≤‡ßÅ‡¶ï‡¶æ‡¶≤ ‡¶ú‡¶æ‡¶®‡ßç‡¶®‡¶æ‡¶§‡¶æ ‡¶ì‡ßü‡¶æ ‡¶®‡¶æ‡¶â‡¶Ø‡ßÅ‡¶¨‡¶ø‡¶ï‡¶æ ‡¶Æ‡¶ø‡¶®‡¶æ‡¶® ‡¶®‡¶æ‡¶∞‡•§", meaning: "‡¶Ö‡¶∞‡ßç‡¶•: ‡¶π‡ßá ‡¶Ü‡¶≤‡ßç‡¶≤‡¶æ‡¶π! ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶õ‡ßá ‡¶ú‡¶æ‡¶®‡ßç‡¶®‡¶æ‡¶§ ‡¶ö‡¶æ‡¶á ‡¶è‡¶¨‡¶Ç ‡¶ú‡¶æ‡¶π‡¶æ‡¶®‡ßç‡¶®‡¶æ‡¶Æ‡ßá‡¶∞ ‡¶Ü‡¶ó‡ßÅ‡¶® ‡¶•‡ßá‡¶ï‡ßá ‡¶Æ‡ßÅ‡¶ï‡ßç‡¶§‡¶ø ‡¶ö‡¶æ‡¶á‡•§" }
    ];

    const sehriTimes = ["05:10 AM","05:09 AM","05:08 AM","05:07 AM","05:07 AM","05:06 AM","05:05 AM","05:04 AM","05:03 AM","05:03 AM",
  "05:02 AM","05:01 AM","05:01 AM","05:00 AM","04:59 AM","04:58 AM","04:57 AM","04:56 AM","04:55 AM","04:54 AM",
  "04:53 AM","04:52 AM","04:51 AM","04:50 AM","04:49 AM","04:48 AM","04:47 AM","04:46 AM","04:45 AM","04:44 AM"];
    const iftarTimes = ["05:57 PM","05:58 PM","05:59 PM","05:59 PM","06:00 PM","06:00 PM","06:01 PM","06:01 PM","06:02 PM","06:02 PM",
  "06:03 PM","06:03 PM","06:04 PM","06:04 PM","06:04 PM","06:05 PM","06:05 PM","06:06 PM","06:06 PM","06:07 PM",
  "06:07 PM","06:08 PM","06:08 PM","06:09 PM","06:09 PM","06:10 PM","06:10 PM","06:10 PM","06:11 PM","06:11 PM"];

    let audioEnabled = false;
    let playedAzans = new Set(); 

    function unlockAudio() {
        if (audioEnabled) return; 

        const azan = document.getElementById('azan-audio');
        azan.muted = true; 
        
        let playPromise = azan.play();
        if (playPromise !== undefined) {
            playPromise.then(() => {
                azan.pause();
                azan.currentTime = 0;
                azan.muted = false; 
                audioEnabled = true;
                
                document.removeEventListener('click', unlockAudio);
                document.removeEventListener('touchstart', unlockAudio);
            }).catch(e => console.log("Waiting for interaction"));
        }
    }

    document.addEventListener('click', unlockAudio);
    document.addEventListener('touchstart', unlockAudio);

    function showPage(pageId) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active-page'));
        document.getElementById(pageId).classList.add('active-page');
        window.scrollTo(0,0);
    }

    const listCont = document.getElementById('dua-list-container');
    duaData.forEach(dua => {
        const div = document.createElement('div');
        div.className = 'dua-card';
        div.innerText = "‚≠ê " + dua.title;
        div.onclick = () => {
            document.getElementById('detail-title').innerText = dua.title;
            document.getElementById('det-arabic').innerText = dua.arabic;
            document.getElementById('det-pron').innerText = dua.pron;
            document.getElementById('det-meaning').innerText = dua.meaning;
            showPage('dua-detail-page');
        };
        listCont.appendChild(div);
    });

    let count = 0;
    function tasbihClick() {
        count++;
        document.getElementById('tasbih-count').innerText = count;
        if (navigator.vibrate) navigator.vibrate(60);
    }
    function resetTasbih() { count = 0; document.getElementById('tasbih-count').innerText = count; }

    function parseTime(timeStr, baseDate) {
        let [time, period] = timeStr.split(" ");
        let [hour, min] = time.split(":").map(Number);
        if (period === "PM" && hour !== 12) hour += 12;
        if (period === "AM" && hour === 12) hour = 0;
        let d = new Date(baseDate);
        d.setHours(hour, min, 0, 0);
        return d;
    }

    function updateApp() {
        const now = new Date();
        const ramadanStart = new Date("2026-02-19T00:00:00");
        let ramadanDay = Math.floor((now - ramadanStart) / (1000 * 60 * 60 * 24)) + 1;
        let currentIdx = Math.max(0, Math.min(ramadanDay - 1, 29));

        // ‡¶≤‡¶æ‡¶á‡¶≠ ‡¶°‡ßá‡¶ü ‡¶ì ‡¶ü‡¶æ‡¶á‡¶Æ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü
        document.getElementById('current-date').innerText = now.toDateString();

        const prayers = ['fajar', 'johor', 'asr', 'maghrib', 'isha'];
        let activeFound = false;

        prayers.forEach(p => {
            let timeStr = (p === 'fajar') ? sehriTimes[currentIdx] : (p === 'maghrib') ? iftarTimes[currentIdx] : "12:11 PM";
            if(p === 'asr') timeStr = "4:25 PM";
            if(p === 'isha') timeStr = "7:20 PM";
            
            document.getElementById(`t-${p}`).innerText = timeStr;
            let pDate = parseTime(timeStr, now);
            
            if (now.getHours() === pDate.getHours() && now.getMinutes() === pDate.getMinutes()) {
                let azanKey = p + "_" + currentIdx;
                if (!playedAzans.has(azanKey) && audioEnabled) {
                    const azan = document.getElementById('azan-audio');
                    azan.muted = false; 
                    azan.play();
                    playedAzans.add(azanKey);
                }
            }

            let item = document.getElementById(`p-${p}`);
            if (!activeFound && now < pDate) {
                item.classList.add('active'); activeFound = true;
            } else {
                item.classList.remove('active');
            }
        });

        let sehriToday = parseTime(sehriTimes[currentIdx], now);
        let iftarToday = parseTime(iftarTimes[currentIdx], now);
        let targetDate, status;

        if (now > iftarToday) {
            status = "‚è≥ ‡¶Ü‡¶ó‡¶æ‡¶Æ‡ßÄ ‡¶∏‡ßá‡¶π‡¶∞‡¶ø‡¶∞ ‡¶¨‡¶æ‡¶ï‡¶ø:";
            let tomorrow = new Date(); tomorrow.setDate(now.getDate() + 1);
            targetDate = parseTime(sehriTimes[Math.min(currentIdx + 1, 29)], tomorrow);
        } else if (now < sehriToday) {
            status = "‚è≥ ‡¶∏‡ßá‡¶π‡¶∞‡¶ø‡¶∞ ‡¶¨‡¶æ‡¶ï‡¶ø:";
            targetDate = sehriToday;
        } else {
            status = "‚è≥ ‡¶á‡¶´‡¶§‡¶æ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ï‡¶ø:";
            targetDate = iftarToday;
        }

        let tDiff = targetDate - now;
        if(tDiff < 0) tDiff = 0;
        let h = Math.floor(tDiff / 3600000);
        let m = Math.floor((tDiff % 3600000) / 60000);
        let s = Math.floor((tDiff % 60000) / 1000);
        
        const timerBox = document.getElementById('timer-container');
        if (tDiff > 0 && tDiff <= 300000) timerBox.classList.add('warning-blink');
        else timerBox.classList.remove('warning-blink');

        document.getElementById('timer').innerText = `${String(h).padStart(2,'0')}:${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
        document.getElementById('status-text').innerText = status;
        document.getElementById('sehri-time').innerText = "üåô ‡¶∏‡ßá‡¶π‡¶∞‡¶ø ‡¶∂‡ßá‡¶∑: " + sehriTimes[currentIdx];
        document.getElementById('iftar-time').innerText = "üïå ‡¶á‡¶´‡¶§‡¶æ‡¶∞ ‡¶∂‡ßÅ‡¶∞‡ßÅ: " + iftarTimes[currentIdx];

        let phaseTxt = (ramadanDay <= 10) ? "üåø ‡¶∞‡¶π‡¶Æ‡¶§‡ßá‡¶∞ ‡ßß‡ß¶ ‡¶¶‡¶ø‡¶®" : (ramadanDay <= 20) ? "üåô ‡¶Æ‡¶æ‡¶π‡¶´‡¶ø‡¶∞‡¶æ‡¶§‡ßá‡¶∞ ‡ßß‡ß¶ ‡¶¶‡¶ø‡¶®" : "‚≠ê ‡¶®‡¶æ‡¶ú‡¶æ‡¶§‡ßá‡¶∞ ‡ßß‡ß¶ ‡¶¶‡¶ø‡¶®";
        document.getElementById('phase').innerText = phaseTxt;
        
        // ‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶è‡¶¨‡¶Ç ‡¶ó‡ßç‡¶≤‡ßã ‡¶á‡¶´‡ßá‡¶ï‡ßç‡¶ü
        let calHtml = "";
        for (let i = 1; i <= 30; i++) {
            let cls = "day-box" + (i === ramadanDay ? " current-day" : i < ramadanDay ? " past-day" : "");
            calHtml += `<div class="${cls}">${i}</div>`;
        }
        document.getElementById('calendar').innerHTML = calHtml;
        document.getElementById('jummah-msg').style.display = (now.getDay() === 5) ? "block" : "none";
    }

    setInterval(updateApp, 1000);
    updateApp();
</script>

</body>
</html>
